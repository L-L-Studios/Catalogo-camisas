<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.cdnfonts.com/css/avenir" rel="stylesheet">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

                
    <!--Enlaces-->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/style_navbar.css">
    <link rel="stylesheet" href="css/style_catalogo.css">
    <link rel="stylesheet" href="css/style_tarjeta_camisa.css">
    <link rel="stylesheet" href="css/style_contacto.css">

    <link rel="website icon" href="images/">
    <title>Camisas </title>

</head>

<body>

    <header>
        <nav class="navbar">
            <div class="container">
                <div class="menu-container">
                    <a href="#catalogo" class="logo">VRX</a>

                    <!-- Botón menu -->
                    <button class="menu" id="navbarToggler" aria-label="Main Menu">
                        <svg width="45" height="45" viewBox="0 0 100 100">
                            <path class="line line1"
                                d="M 20,29.000046 H 80.000231 C 80.000231,29.000046 94.498839,28.817352 
                                94.532987,66.711331 94.543142,77.980673 90.966081,81.670246 
                                85.259173,81.668997 79.552261,81.667751 75.000211,74.999942 
                                75.000211,74.999942 L 25.000021,25.000058" />
                            
                            <path class="line line2" d="M 20,50 H 80" />

                            <path class="line line3"
                                d="M 20,70.999954 H 80.000231 C 80.000231,70.999954 
                                94.498839,71.182648 94.532987,33.288669 94.543142,22.019327 
                                90.966081,18.329754 85.259173,18.331003 79.552261,18.332249 
                                75.000211,25.000058 75.000211,25.000058 L 25.000021,74.999942" />
                        </svg>
                    </button>

                    <div class="navbar-links" id="navbarLinks">
                        <a href="#catalogo" class="active navbar-link">Catálogo</a>
                        <a href="#contacto">Contacto</a>
                    </div>
                </div>

                <div class="nav-bottom">
                        <div class="input__container"> 
                            <div class="shadow__input"></div>
                            <div class="input__button__shadow">
                                <svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" height="20px" width="20px">
                                <path d="M4 9a5 5 0 1110 0A5 5 0 014 9zm5-7a7 7 0 104.2 12.6.999.999 0 00.093.107l3 3a1 1 0 001.414-1.414l-3-3a.999.999 0 00-.107-.093A7 7 0 009 2z" fill-rule="evenodd" fill="#f6fffe"></path>
                                </svg>
                            </div>
                            <input type="text" name="text" class="input__search" placeholder="Buscar camisas...">
                        </div>

                        <div class="contenedor-mini-cat">
                            <button class="btn-cat btn-anime">Anime</button>
                            <button class="btn-cat btn-cat">cat1</button>
                            <button class="btn-cat btn-cat">cat2</button>
                            <button class="btn-cat btn-todos">Todas</button>
                        </div>

                    </div>

            </div>
        </nav>
    </header>

    <!--SECCIONES PRINCIPALES Y CONTENIDO-->
    <div class="wrapper">
        <div class="content-camisas">

            <!--SECCION CATALOGO-->
            <section class="section catalogo" id="catalogo">
                <div class="contenedor-catalogo">

                    <!--GRID ZONA CATALOGO - aqui se cargan las tarjetas de las camisas dinamicamente-->
                    <div id="section-catalogo-completo"> </div>

                </div>

            </section>

            <!--SECCION CONTACTO-->
            <section class="section contacto" id="contacto">
            </section>

            <!--FOOTER-->
            <footer>

            </footer>

        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <!--catalogo-->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Inicializar carruseles de Bootstrap
            const carousels = document.querySelectorAll('.carousel');
            
            carousels.forEach(carousel => {
                const bsCarousel = new bootstrap.Carousel(carousel, {
                    interval: false // Desactivar rotación automática
                });
                
                // Variables para el control táctil
                let startX = 0;
                let startY = 0;
                let currentX = 0;
                let isSwiping = false;
                let swipeThreshold = 30; // Umbral más bajo para mayor sensibilidad
                
                // PREVENIR COMPORTAMIENTO POR DEFECTO DEL SCROLL EN EL CAROUSEL
                carousel.addEventListener('touchmove', function(e) {
                    if (isSwiping) {
                        e.preventDefault();
                    }
                }, { passive: false });
                
                // Touch Start - Inicio del deslizamiento
                carousel.addEventListener('touchstart', function(e) {
                    startX = e.touches[0].clientX;
                    startY = e.touches[0].clientY;
                    currentX = startX;
                    isSwiping = true;
                }, { passive: true });
                
                // Touch Move - Durante el deslizamiento
                carousel.addEventListener('touchmove', function(e) {
                    if (!isSwiping) return;
                    
                    currentX = e.touches[0].clientX;
                    const currentY = e.touches[0].clientY;
                    const diffX = startX - currentX;
                    const diffY = startY - currentY;
                    
                    // Solo procesar si el movimiento es más horizontal que vertical
                    if (Math.abs(diffX) > Math.abs(diffY)) {
                        e.preventDefault();
                    }
                }, { passive: false });
                
                // Touch End - Fin del deslizamiento
                carousel.addEventListener('touchend', function(e) {
                    if (!isSwiping) return;
                    
                    const diffX = startX - currentX;
                    
                    // Cambiar de slide si se supera el umbral
                    if (Math.abs(diffX) > swipeThreshold) {
                        if (diffX > 0) {
                            // Deslizamiento hacia la izquierda - siguiente slide
                            bsCarousel.next();
                        } else {
                            // Deslizamiento hacia la derecha - slide anterior
                            bsCarousel.prev();
                        }
                    }
                    
                    isSwiping = false;
                }, { passive: true });
                
                // Touch Cancel - Cancelación del gesto táctil
                carousel.addEventListener('touchcancel', function() {
                    isSwiping = false;
                }, { passive: true });
                
                // Permitir scroll vertical normal en la tarjeta
                const card = carousel.closest('.card-camisa');
                if (card) {
                    card.addEventListener('touchmove', function(e) {
                        // Solo prevenir el comportamiento por defecto si estamos en el carousel
                        if (!carousel.contains(e.target)) {
                            return;
                        }
                        
                        const touch = e.touches[0];
                        const element = document.elementFromPoint(touch.clientX, touch.clientY);
                        
                        if (element && carousel.contains(element)) {
                            const diffX = Math.abs(startX - touch.clientX);
                            const diffY = Math.abs(startY - touch.clientY);
                            
                            // Solo prevenir si el movimiento es más horizontal
                            if (diffX > diffY) {
                                e.preventDefault();
                            }
                        }
                    }, { passive: false });
                }
            });
            
            // Mejorar la interacción hover
            const cards = document.querySelectorAll('.card-camisa');
            
            cards.forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.classList.add('controls-active');
                });
                
                card.addEventListener('mouseleave', function() {
                    this.classList.remove('controls-active');
                });
                
                // Para dispositivos táctiles, simular hover al tocar
                let touchTimer;
                card.addEventListener('touchstart', function() {
                    this.classList.add('controls-active');
                    clearTimeout(touchTimer);
                }, { passive: true });
                
                card.addEventListener('touchend', function() {
                    // Mantener expandido por 4 segundos después del último touch
                    touchTimer = setTimeout(() => {
                        this.classList.remove('controls-active');
                    }, 4000);
                }, { passive: true });
            });
            
            // Mejorar accesibilidad para navegación por teclado
            document.addEventListener('keydown', function(e) {
                const activeElement = document.activeElement;
                const carousel = activeElement.closest('.carousel');
                
                if (carousel && (e.key === 'ArrowLeft' || e.key === 'ArrowRight')) {
                    e.preventDefault();
                    const bsCarousel = bootstrap.Carousel.getInstance(carousel);
                    
                    if (e.key === 'ArrowLeft') {
                        bsCarousel.prev();
                    } else if (e.key === 'ArrowRight') {
                        bsCarousel.next();
                    }
                }
            });
        });
    </script>

    <script src="js/nabvar.js"></script>
    
    <script>
    // Cargar archivo externo
    fetch("index_catalogo.html")
        .then(response => response.text())
        .then(html => {
            document.getElementById("section-catalogo-completo").innerHTML = html;
        })
        .catch(error => {
            console.error("Error cargando el archivo:", error);
        });
    </script>
    
</body>

</html>