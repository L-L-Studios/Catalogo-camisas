<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.cdnfonts.com/css/avenir" rel="stylesheet">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/@phosphor-icons/web@2.1.1/src/regular/style.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/@phosphor-icons/web@2.1.1/src/fill/style.css">

    <script src="js/supabase.js" defer></script>
                
    <!--Enlaces-->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/style_navbar.css">
    <link rel="stylesheet" href="css/style_catalogo.css">
    <link rel="stylesheet" href="css/style_contacto.css">

    <link rel="stylesheet" href="css/style_tarjeta.css">
    <link rel="stylesheet" href="css/style_tarjeta-index.css">
    <link rel="stylesheet" href="css/style_tarjeta-nfound.css">

    <link rel="stylesheet" href="css/style-notif.css">

    <link rel="stylesheet" href="css/style_carrito.css">

    <link rel="website icon" href="images/">
    <title>Camisas</title>

</head>

<body>

    <nav id="navbar">
        <!-- Parte superior: Logo + Hamburger -->
        <div class="nav-top">
            <div class="logo">VRX</div>
            <button class="menu" id="navbarToggler" aria-label="Main Menu">
                <svg width="45" height="45" viewBox="0 0 100 100">
                    <path class="line line1"
                        d="M 20,29.000046 H 80.000231 C 80.000231,29.000046 94.498839,28.817352 
                        94.532987,66.711331 94.543142,77.980673 90.966081,81.670246 
                        85.259173,81.668997 79.552261,81.667751 75.000211,74.999942 
                        75.000211,74.999942 L 25.000021,25.000058" />
                    
                    <path class="line line2" d="M 20,50 H 80" />

                    <path class="line line3"
                        d="M 20,70.999954 H 80.000231 C 80.000231,70.999954 
                        94.498839,71.182648 94.532987,33.288669 94.543142,22.019327 
                        90.966081,18.329754 85.259173,18.331003 79.552261,18.332249 
                        75.000211,25.000058 75.000211,25.000058 L 25.000021,74.999942" />
                </svg>
            </button>
        </div>

        <!-- Buscador (debajo de logo+hamburger en móvil) -->
        <div class="nav-buscar">
            <div class="input__container"> 
                <div class="shadow__input"></div>
                <div class="input__button__shadow">
                    <svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" height="20px" width="20px">
                        <path d="M4 9a5 5 0 1110 0A5 5 0 014 9zm5-7a7 7 0 104.2 12.6.999.999 0 00.093.107l3 3a1 1 0 001.414-1.414l-3-3a.999.999 0 00-.107-.093A7 7 0 009 2z" fill-rule="evenodd" fill="#f6fffe"></path>
                    </svg>
                </div>
                <input type="text" name="text" class="input__search" placeholder="Buscar camisas...">
            </div>
        </div>

        <!-- Menú popup (Catálogo + Contacto) MOVIL-->
        <div class="nav-popup" id="navPopup">
            <a href="#catalogo" class="popup-link">Catálogo</a>
            <button class="popup-contacto">Contactos</button>
            <button class="popup-carrito">Pedidos</button>
            
        </div>

        <!-- Categorías SIN FONDO (separadas de la navbar) -->
       <div class="nav-categorias-wrapper">
            <div class="nav-categorias">
                <!-- Botón "Todas" siempre presente -->
                <button class="btn-cat active" data-cat="todas">Todas</button>
                <!-- Las demás categorías se insertarán dinámicamente aquí -->
            </div>
        </div>

        <!-- Enlaces para desktop (ocultos en móvil) -->
        <div class="nav-links-desktop">
            <a href="#catalogo">Catálogo</a>
            <button class="cta-contacto" onclick="document.getElementById('contact').scrollIntoView({behavior:'smooth'})">Contacto</button>
            <button class="btn-carrito"><i class="ph ph-shopping-cart"></i></button>
        </div>
    </nav>

    <main>
        <div class="content-camisas"> 
            <section class="catalogo" id="catalogo">
                <div class="contenedor">
                    <h2 class="lbl-catalogo">Catálogo de camisas</h2>
                    <p class="lbl-desc-cat">
                        Selecciona las camisas de tu preferencia eligiendo talla, color y cantidad desde cada tarjeta. <br> 
                        Puedes quitarlas en cualquier momento presionando nuevamente el ícono de la camisa "
                        <span class="icono-desc-cat">                
                            <svg viewBox="0 0 512 512" width="20" height="20">
                                <path d="M499.453,116.763L343.871,59.708c-5.406-1.985-11.41-1.43-16.361,1.508
                                c0,0-4.04,42.46-71.51,42.46s-71.51-42.46-71.51-42.46c-4.951-2.938-10.954-3.492-16.354-1.508
                                l-155.59,57.056c-9.098,3.329-14.262,12.946-12.028,22.364l16.197,68.416
                                c2.148,9.048,10.478,15.237,19.761,14.689l61.864-3.678v206.77
                                c0,15.543,12.598,28.14,28.134,28.14h259.052
                                c15.535,0,28.133-12.598,28.133-28.14v-206.77l61.865,3.678
                                c9.283,0.548,17.612-5.641,19.761-14.689l16.197-68.416
                                c2.234-9.418-2.93-19.035-12.028-22.364z" />
                            </svg>
                        </span>
                        " 
                    </p>
                    
                    <!-- GRID CATÁLOGO - AHORA SOLO UN SCRIPT -->
                    <div id="section-catalogo-completo"></div>
                    
                </div>
            </section>

            <!--ZONA CONTACTO-->
            <section id="contact" class="white reveal">
            <div class="blob-section alt" aria-hidden></div>

            <h2 class="section-title">Pedidos Personalizados</h2>
            <p class="section-sub">¿Te gustaría encargar camisas personalizadas con nosotros?
                Escribénos por este medio ó WhatsApp.</p>

            <div class="contact-grid">

                <!-- IZQUIERDA/ FORM PARA ENVIAR CAMISAS ENCARGADAS -->
                <div>
                <div class="contact-box">
                <h3>Envíanos un mensaje</h3>
                <form method="POST" id="contactForm">

                    <input type="text" name="name" placeholder="Tu nombre" />
                    <small class="error-msg"></small>

                    <input type="email" name="email" placeholder="Tu correo" />
                    <small class="error-msg"></small>

                    <textarea name="message" placeholder="Tu pedido" rows="6"></textarea>
                    <small class="error-msg"></small>
                    
                    <input type="hidden" name="_confirmation" value="true">

                    <!-- Honeypot anti-spam -->
                    <input type="text" name="_gotcha" style="display:none">

                    <!-- Mensaje de bloqueo -->
                    <p id="formStatus" style="display:none;"></p>

                    <button type="submit" id="btn-enviar">Enviar</button>
                </form>


                </div>
                </div>

                <!-- DERECHA (IMAGEN + CUADRO BLANCO) -->
                <div class="contact-image-wrap">
                <img src="images/camisa-not-found.jpg" alt="Contacto" class="contact-image">

                <div class="contact-image-card">
                    <!-- icono irá aquí -->
                     <p>Camisas VRX</p>
                </div>
                </div>

            </div>
            </section>


        </div>
        
    </main>

    <!-- SIDEBAR CARRITO CORREGIDO -->
    <div id="carritoSidebar" class="carrito-sidebar">
        <div class="carrito-header">
            <h3>Tu Pedido</h3>
            <button id="cerrarCarrito">&times;</button>
        </div>

        <div class="carrito-body">
            <div id="listaCarrito"></div>
        </div>

        <div class="carrito-footer">
            <div class="carrito-datos">
                <input type="text" id="pedidoNombre" placeholder="Nombre completo">
                <input type="email" id="pedidoEmail" placeholder="Correo">
                <input type="text" id="pedidoDireccion" placeholder="Dirección">
                <input type="tel" id="pedidoWhatsapp" placeholder="WhatsApp">

                <select id="pedidoPago">
                    <option value="efectivo">Pago en efectivo</option>
                </select>
            </div>

            <p>Total: $<span id="totalCarrito">0.00</span></p>
            <button id="btnPedidoCarrito" class="btn-pedido">
                Realizar pedido
            </button>
        </div>
    </div>

    <div id="carritoOverlay" class="carrito-overlay"></div>

    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <!--  -->
    <script src="js/supabase.js"></script>
    <script src="js/nabvar.js"></script>
    <script src="js/catalogo.js"></script> 
    <script src="js/bookmarks.js"></script>
    <script src="js/carrito-sidebar.js"></script>
  

    <script src="js-pedido/pedido_camisa_supabase.js"></script>


</body>

</html>
